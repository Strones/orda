/// <reference types="node" />
import { RawSourceMap } from 'source-map';
interface PackageComponents {
    device: {
        [family: string]: {
            artifact: Buffer;
            platform?: string[];
        };
    };
    companion?: Buffer;
}
interface DeviceSourceMaps {
    [family: string]: ComponentSourceMaps;
}
export interface SourceMaps {
    device: DeviceSourceMaps;
    companion?: ComponentSourceMaps;
    settings?: ComponentSourceMaps;
}
export interface ComponentSourceMaps {
    [filename: string]: RawSourceMap;
}
interface BundledComponentSourceMaps {
    [filename: string]: string;
}
interface ManifestSourceMaps {
    device: {
        [family: string]: BundledComponentSourceMaps;
    };
    companion?: BundledComponentSourceMaps;
    settings?: BundledComponentSourceMaps;
}
interface ManifestCommon {
    manifestVersion: number;
    buildId: string;
    appId: string;
    requestedPermissions: string[];
    components: {
        companion?: {};
    };
}
interface ManifestV5 extends ManifestCommon {
    manifestVersion: 5;
    components: {
        watch: string;
        companion?: string;
    };
    platform: string[];
}
interface ManifestV6 extends ManifestCommon {
    manifestVersion: 6;
    sdkVersion: SDKVersion;
    components: {
        watch: {
            [family: string]: {
                platform?: string[];
                filename: string;
            };
        };
        companion?: {
            filename: string;
        };
    };
    sourceMaps?: ManifestSourceMaps;
}
interface SDKVersion {
    deviceApi: string;
    companionApi?: string;
}
export default class AppPackage {
    buildId: string;
    components: PackageComponents;
    sourceMaps?: SourceMaps;
    requestedPermissions: string[];
    uuid: string;
    sdkVersion: SDKVersion;
    manifest?: ManifestV5 | ManifestV6;
    constructor({ buildId, components, sourceMaps, requestedPermissions, uuid, sdkVersion, }: {
        buildId: string;
        components: PackageComponents;
        sourceMaps?: SourceMaps;
        requestedPermissions: string[];
        uuid: string;
        sdkVersion: SDKVersion;
    });
    generateArtifact(): Promise<Buffer>;
    static fromArtifact(artifactData: Buffer): Promise<AppPackage>;
}
export {};
