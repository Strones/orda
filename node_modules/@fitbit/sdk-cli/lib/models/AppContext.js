"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const ts_events_1 = require("ts-events");
const AppPackage_1 = tslib_1.__importDefault(require("./AppPackage"));
const promiseFs_1 = require("../util/promiseFs");
class AppContext {
    constructor() {
        this.onAppPackageLoad = new ts_events_1.VoidSyncEvent();
    }
    async loadAppPackage(packagePath) {
        const appPackageData = await promiseFs_1.readFile(packagePath);
        this.appPackage = await AppPackage_1.default.fromArtifact(appPackageData);
        this.appPackagePath = packagePath;
        this.onAppPackageLoad.post();
        return this.appPackage;
    }
}
exports.default = AppContext;
